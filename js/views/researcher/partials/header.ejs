<header id="header">
    <div class="header-top">
        <div class="container">
            <div class="row align-items-center">
                <div class="col-lg-6 col-sm-6 col-6 header-top-left">
                    <ul>
                        <%
                            var html = '';
                            if(locals.staffData){
                                html += '<li><a href=""><span class="lnr lnr-user"></span></a></li>';
                                html += '<li><a href="">' + locals.staffData.firstName + ' ' + locals.staffData.lastName + '</a></li>';
                            }
                        %>
                        <%-html%>
                    </ul>
                </div>
                <div class="col-lg-6 col-sm-6 col-6 header-top-right">
                    <div class="header-social">
                        <% 
                            var account = '';
                            var out = '';

                            if(locals.staffData != null) {
                                out = '<a href="#">Logout</a>';
                            }

                            else {
                                account += '<a href="#modalLogin" data-toggle="modal">Login</a>';
                                account += '<a href="">|</a>';
                                account += '<a href="#modalRegister" data-toggle="modal">Register</a>';
                            }
                        %>
                        <%-account%>
                        <%-out%>
                    </div>
                </div>
            </div>
        </div>
    </div>
    <div class="container main-menu">
        <div class="row align-items-center justify-content-between d-flex"><br>
            <nav id="nav-menu-container">
                <ul class="nav-menu">
                    <li><a href="index">Home</a></li>
                    <li><a href="microbiota">Microbiota</a></li>
                    <li><a href="about">About</a></li>
                    <li class="menu-has-children"><a href="">Module</a>
                        <ul>
                            <li><a href="researcher_animal">Animal</a></li>
                            <li><a href="researcher_bacteria">Bacteria</a></li>
                            <li><a href="researcher_disease">Disease</a></li>
                        </ul>
                    </li>
                    <li><a href="contact">Contact</a></li>
                </ul>
            </nav><!-- #nav-menu-container -->
        </div>
    </div>
</header>

<!-- Login Modal -->
<div class="modal fade" id="modalLogin" role="dialog">
    <div class="modal-dialog modal-dialog-centered">
        <div class="modal-content">
            <div class="modal-header">
                <h6 class="modal-title">Login</h6>
                <button type="button" class="close" data-dismiss="modal">&times;</button>
            </div>
            <form method='POST' action='/login' id='loginForm'>
                <div class="modal-body">
                    <center>
                        <img src="../../assets/img/zoo.ico" width="65px" height="65px" alt="">
                        <h3 class="modal-title">ZOODIS</h3>
                        <p>Zoonotic Disease Identification</p>
                    </center>
                    <div class="input-group no-border form-control-lg">
                        <span class="input-group-prepend">
                            <div class="input-group-text">
                                <span class="lnr lnr-user"></span>
                            </div>
                        </span>
                        <input type="text" name="username" class="form-control" placeholder="Email/User Name">
                    </div>
                    <div class="input-group no-border form-control-lg">
                        <span class="input-group-prepend">
                            <div class="input-group-text">
                                <span class="lnr lnr-lock"></span>
                            </div>
                        </span>
                        <input type="password" name="password" class="form-control" placeholder="Password">
                    </div>
                </div>
                <div class="modal-footer">
                    <button type="submit" class="genric-btn primary" style="float: right;">Login</button>
                </div>
            </form>
        </div>
    </div>
</div>

<!-- Register Modal -->
<div class="modal fade" id="modalRegister" role="dialog">
    <div class="modal-dialog modal-dialog-centered">
        <div class="modal-content">
            <form action="/registerResearcher" method="POST">
                <div class="modal-header">
                    <h6 class="modal-title">Register Account</h6>
                    <button type="button" class="close" data-dismiss="modal">&times;</button>
                </div>
                <div class="modal-body">
                    <center>
                        <img src="../../assets/img/zoo.ico" width="65px" height="65px" alt="">
                        <h3 class="modal-title">ZOODIS</h3>
                        <p>Zoonotic Disease Identification</p>
                    </center>
                    <div class="input-group no-border form-control-lg">
                        <span class="input-group-prepend">
                            <div class="input-group-text">
                                <span class="lnr lnr-user"></span>
                            </div>
                        </span>
                        <input type="text" name="firstName" class="form-control" placeholder="First Name">
                        <input type="text" name="middleInitial" class="form-control" placeholder="Middle Initial">
                    </div>
                    <div class="input-group no-border form-control-lg">
                        <span class="input-group-prepend">
                            <div class="input-group-text">
                                <span class="lnr lnr-user"></span>
                            </div>
                        </span>
                        <input type="text" name="lastName" class="form-control" placeholder="Last Name">
                    </div>
                    <div class="input-group no-border form-control-lg">
                        <span class="input-group-prepend">
                            <div class="input-group-text">
                                <span class="lnr lnr-user"></span>
                            </div>
                        </span>
                        <input type="text" name="userName" class="form-control" placeholder="User Name">
                    </div>
                    <div class="input-group no-border form-control-lg">
                        <span class="input-group-prepend">
                            <div class="input-group-text">
                                <span class="lnr lnr-envelope"></span>
                            </div>
                        </span>
                        <input type="text" name="email" pattern="[A-Za-z0-9._%+-]+@[A-Za-z0-9.-]+\.[A-Za-z]{1,63}$"
                            class="form-control" placeholder="Email">
                    </div>
                    <div class="input-group no-border form-control-lg">
                        <span class="input-group-prepend">
                            <div class="input-group-text">
                                <span class="lnr lnr-lock"></span>
                            </div>
                        </span>
                        <input type="password" name="password" class="form-control" placeholder="Password">
                    </div>
                </div>
                <div class="modal-footer">
                    <button type="submit" class="genric-btn primary" style="float: right;">Register</button>
                </div>
            </form>
        </div>
    </div>
</div>

<!-- Login Modal -->
<div class="modal fade" id="modalVerify" role="dialog">
    <div class="modal-dialog modal-dialog-centered">
        <div class="modal-content">
            <div class="modal-header">
                <h6 class="modal-title">Code</h6>
                <button type="button" class="close" data-dismiss="modal">&times;</button>
            </div>
            <form method='POST' action='/code' id='codeForm'>
                <div class="modal-body">
                    <center>
                        <img src="../../assets/img/zoo.ico" width="65px" height="65px" alt="">
                        <h3 class="modal-title">ZOODIS</h3>
                        <p>Zoonotic Disease Identification</p>
                        <p>Verification Code is sent to your Email!</p>
                    </center>
                    <div class="input-group no-border form-control-lg">
                        <span class="input-group-prepend">
                            <div class="input-group-text">
                                <span class="lnr dice"></span>
                            </div>
                        </span>
                        <input type="text" name="code" class="form-control" placeholder="Verification Code">
                    </div>
                </div>
                <div class="modal-footer">
                    <button type="submit" class="genric-btn primary" style="float: right;">Verify</button>
                </div>
            </form>
        </div>
    </div>
</div>

<%
    var script = "";
    var loginErr = locals.regError || 0;
    if(loginErr){
        if(loginErr==1){
            script = "<script type='text/javascript'>alert('All fields must be filled!'); window.onload = ()=>{$('#modalRegister').modal('show');}</script>";
        }else if(loginErr==2){
            script = "<script type='text/javascript'>window.onload = () => { $('#modalVerify').modal('show'); }</script>";
        }else{
            script;
        }
    }
%>
<%-script%>